<div class="coral-list-page ocean-bg">
    <!-- Full-screen Background Image -->
    <div class="fullscreen-bg">
        <img src="/assets/background1.png" alt="Coral reef background" />
    </div>
    
    <!-- Cyan Gradient Overlay -->
    <div class="gradient-overlay gradient-overlay-cyan"></div>
    
    <div class="container-fluid px-6 pt-32 pb-16 content-wrapper text-overlay">
        <div class="max-w-7xl mx-auto">
            <!-- Header -->
            <div class="text-center mb-16">
                <h1 class="text-white text-7xl md-text-8xl mb-6">
                    Adopt a Coral
                </h1>
                <p class="text-white text-xl max-w-3xl mx-auto leading-relaxed">
                    Choose a coral species to adopt and support. Your adoption helps fund conservation efforts 
                    and restoration programs for these beautiful marine creatures.
                </p>
            </div>

            <!-- Search and Filter Section -->
            <div class="glass-card mb-12">
                <div class="row g-4">
                    <div class="col-md-8">
                        <label class="form-label text-white mb-2 d-block">
                            <i class="bi bi-search me-2"></i>
                            Search Corals
                        </label>
                        <input
                            type="text"
                            class="form-control input-mycoral"
                            placeholder="Search by name, scientific name, or description..."
                            [(ngModel)]="searchQuery"
                            (ngModelChange)="onSearchChange()">
                    </div>
                    <div class="col-md-4">
                        <label class="form-label text-white mb-2 d-block">
                            <i class="bi bi-filter me-2"></i>
                            Conservation Status
                        </label>
                        <select
                            class="form-control input-mycoral"
                            [(ngModel)]="selectedStatus"
                            (ngModelChange)="onStatusChange()">
                            <option *ngFor="let status of conservationStatuses" [value]="status.value">
                                {{ status.label }}
                            </option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Results Count -->
            <div class="mb-6" *ngIf="!isLoading">
                <p class="text-white-90">
                    Showing <strong class="text-white">{{ filteredCorals.length }}</strong> 
                    of <strong class="text-white">{{ corals.length }}</strong> corals
                </p>
            </div>

            <!-- Coral Grid -->
            <div class="row g-4 mb-12" *ngIf="!isLoading && filteredCorals.length > 0">
                <div class="col-md-6 col-lg-4" *ngFor="let coral of filteredCorals">
                    <div class="glass-card coral-card">
                        <!-- Coral Image -->
                        <div class="coral-image-wrapper mb-4">
                            <img 
                                [src]="coral.imageUrl || '/assets/examplepic1.png'" 
                                [alt]="coral.commonName"
                                class="coral-image"
                                (error)="$event.target.src='/assets/examplepic1.png'">
                            <div class="status-badge-overlay">
                                <span class="status-badge" [ngClass]="getStatusClass(coral.conservationStatus)">
                                    {{ coral.conservationStatus }}
                                </span>
                            </div>
                        </div>

                        <!-- Coral Info -->
                        <div class="coral-info">
                            <h3 class="text-white text-2xl mb-2">{{ coral.commonName }}</h3>
                            <p class="text-white-90 text-sm mb-3 italic">
                                <i class="bi bi-flower1 me-1"></i>
                                {{ coral.scientificName }}
                            </p>
                            <p class="text-white-90 text-sm mb-4 line-clamp-3">
                                {{ coral.description }}
                            </p>
                        </div>

                        <!-- Action Button -->
                        <a [routerLink]="['/corals', coral.id]" class="glass-button-sm w-100 text-center d-block">
                            <i class="bi bi-heart me-2"></i>
                            Adopt This Coral
                        </a>
                    </div>
                </div>
            </div>

            <!-- Loading State -->
            <div *ngIf="isLoading" class="loading-state text-overlay text-center">
                <div class="spinner-border text-light" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <p class="mt-3 text-white-90">Loading coral species...</p>
            </div>

            <!-- Empty State -->
            <div *ngIf="!isLoading && filteredCorals.length === 0" class="empty-state glass-card text-center">
                <div class="mb-4">
                    <i class="bi bi-search text-white" style="font-size: 4rem; opacity: 0.5;"></i>
                </div>
                <h3 class="text-white text-2xl mb-3">No corals found</h3>
                <p class="text-white-90 mb-4">
                    Try adjusting your search or filter criteria.
                </p>
                <button 
                    class="glass-button"
                    (click)="searchQuery = ''; selectedStatus = 'all'; onStatusChange()">
                    Clear Filters
                </button>
            </div>
        </div>
    </div>
</div>
