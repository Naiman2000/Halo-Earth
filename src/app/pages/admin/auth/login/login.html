<div class="login-page ocean-bg">
    <div class="login-container">
        <!-- Login Card -->
        <div class="glass-card login-card">
            <h1 class="login-title">Welcome Back</h1>
            <p class="login-subtitle">Log in to your account</p>

            <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
                <!-- Email -->
                <div class="form-group mb-3">
                    <label for="email" class="form-label">Email Address</label>
                    <div class="input-wrapper">
                        <i class="bi bi-envelope input-icon"></i>
                        <input 
                            type="email" 
                            id="email"
                            formControlName="email"
                            class="form-control input-mycoral"
                            placeholder="Enter your email"
                            [class.is-invalid]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
                        />
                    </div>
                    <div class="invalid-feedback" *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
                        <span *ngIf="loginForm.get('email')?.errors?.['required']">Email is required</span>
                        <span *ngIf="loginForm.get('email')?.errors?.['email']">Please enter a valid email</span>
                    </div>
                </div>

                <!-- Password -->
                <div class="form-group mb-3">
                    <label for="password" class="form-label">Password</label>
                    <div class="input-wrapper">
                        <i class="bi bi-lock-fill input-icon"></i>
                        <input 
                            [type]="showPassword ? 'text' : 'password'" 
                            id="password"
                            formControlName="password"
                            class="form-control input-mycoral"
                            placeholder="Enter your password"
                            [class.is-invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
                        />
                        <button 
                            type="button" 
                            class="password-toggle"
                            (click)="togglePasswordVisibility()"
                            aria-label="Toggle password visibility"
                        >
                            <i [class]="showPassword ? 'bi bi-eye-slash' : 'bi bi-eye'"></i>
                        </button>
                    </div>
                    <div class="invalid-feedback" *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
                        <span *ngIf="loginForm.get('password')?.errors?.['required']">Password is required</span>
                        <span *ngIf="loginForm.get('password')?.errors?.['minlength']">Password must be at least 6 characters</span>
                    </div>
                </div>

                <!-- Remember Me & Forgot Password -->
                <div class="form-options d-flex justify-content-between align-items-center mb-4">
                    <div class="form-check">
                        <input 
                            type="checkbox" 
                            id="rememberMe"
                            formControlName="rememberMe"
                            class="form-check-input"
                        />
                        <label class="form-check-label" for="rememberMe">
                            Remember me
                        </label>
                    </div>
                    <button 
                        type="button" 
                        class="forgot-password-link"
                        (click)="onForgotPassword()"
                    >
                        Forgot password?
                    </button>
                </div>

                <!-- Error Message -->
                <div class="alert alert-danger" *ngIf="errorMessage" role="alert">
                    {{ errorMessage }}
                </div>

                <!-- Submit Button -->
                <button 
                    type="submit" 
                    class="btn btn-mycoral w-100 login-submit-btn"
                    [disabled]="isSubmitting"
                >
                    <span *ngIf="!isSubmitting">Log In</span>
                    <span *ngIf="isSubmitting">
                        <span class="spinner-border spinner-border-sm me-2" role="status"></span>
                        Logging in...
                    </span>
                </button>

                <!-- Register Link -->
                <div class="login-divider">
                    <span>Don't have an account? </span>
                    <a routerLink="/admin/login" class="register-link">Register an account</a>
                </div>

                <!-- Back to Home Link -->
                <div class="back-home-link">
                    <a routerLink="/" class="back-link">
                        <i class="bi bi-arrow-left me-1"></i>
                        Back to Home
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>
